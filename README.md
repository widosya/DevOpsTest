# Тестовое задание по сборке библиотеки sqlite3

1. Сборка sqlite3.dll под Windows с помощью CMake и MSVC
   - Находясь в директории с файлами CMakeLists.txt, sqlite3.c, sqlite3.h выполнить команды:  
      Создание необходимых файлов для сборки:  
      `cmake -S ./ -B ./build`  
      Сборка библиотеки:  
      `cmake --build ./build`  
      Результат сборки расположен в ./build/Debug/sqlite3.dll
      
2. Сборка образа и запуск Docker-контейнера
   - Чтобы запустить Docker-контейнер, необходимо сначала собрать образ, на основе которого будет создан и запущен контейнер. Для этого необходимо выполнить следующие команды:  
      Сборка docker-образа с названием "so-builder"  
      `docker build -t so-builder`  
      Запуск docker-контейнера на основе собранного образа:  
      `docker run --name builder so-builder`
   - После выполнения данных команд, собранную библиотеку необходимо копировать на хост с помощью команды:  
      Копирование файла из контейнера на хост:  
      `docker cp builder:/sqlite3/sqlite3.so .`  
      Результат сборки будет помещен в текущую директорию.
      
3. Развертывание ВМ CentOS7 с помощью Vagrant и установка необходимых утилит для выполнения сборки .so библиотеки
   - Развертывание ВМ автоматизировано с помощью Vagrantfile, установка необходимых утили для сборки и последующая сборка - с помощью Ansible
   - Для обеспечения работы развертывания необходимо извлечь плейбуки из архивов и расположить их в одной директории с Dockerfile и Vagrantfile
   - Плейбук docker-install.yml отвечает за:  
      - Установку и настройку docker
   - Плейбук so-build.yml отвечает за:  
      - Установку утилит для скачивания и распаковки архива sqlite3 (wget, unzip)
      - Создание необходимого окружения для сборки docker-образа и выполнения docker-контейнера
      - Копирование полученной библиотеки из контейнера на хост
   - Для запуска ВМ выполнить команду:  
      `vagrant up`  
      После запуска собранная библиотека будет находиться в директории /home/vagrant/work
      
      
